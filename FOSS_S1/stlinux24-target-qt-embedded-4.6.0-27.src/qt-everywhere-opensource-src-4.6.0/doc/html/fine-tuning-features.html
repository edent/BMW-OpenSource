<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- emb-features.qdoc -->
<head>
  <title>Qt 4.6: Fine-Tuning Features in Qt</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://qt.nokia.com/"><img src="images/qt-logo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">All&nbsp;Functions</font></a>&nbsp;&middot; <a href="overviews.html"><font color="#004faf">Overviews</font></a></td></tr></table><h1 class="title">Fine-Tuning Features in Qt<br /><span class="subtitle"></span>
</h1>
<p>In many cases, only a fixed set of applications are deployed on an embedded device, making it possible to save resources by minimizing the size of the associated libraries. The Qt installation can easily be optimized by avoiding to compile in the features that are not required.</p>
<ul><li><a href="#simple-customization">Simple Customization</a></li>
<ul><li><a href="#embedded-linux">Embedded Linux</a></li>
<li><a href="#windows-ce">Windows CE</a></li>
</ul>
<li><a href="#managing-large-numbers-of-features">Managing Large Numbers of Features</a></li>
</ul>
<p>A wide range of features are defined, covering classes and technologies provided by several of Qt's modules. You can look up the different feature definitions in the <tt>src/corelib/global/qfeatures.txt</tt> file within the Qt source distribution.</p>
<a name="simple-customization"></a>
<h3>Simple Customization</h3>
<a name="embedded-linux"></a>
<h4>Embedded Linux</h4>
<p>To disable a particular feature, just run the <tt>configure</tt> script for Qt for Embedded Linux with the <tt>-no-feature-&lt;feature&gt;</tt> option. For example:</p>
<pre> ./configure -no-feature-thread</pre>
<p>The feature can easily be enabled again by running <tt>configure</tt> with the <tt>-feature-&lt;feature&gt;</tt> option.</p>
<p>See also <a href="qt-performance.html">Qt Performance Tuning</a>.</p>
<a name="windows-ce"></a>
<h4>Windows CE</h4>
<p>To disable a particular feature, just run the <tt>configure</tt> script with the set of required <tt>-D&lt;feature&gt;</tt> options. For example, you can use the <tt>-D</tt> option to define <tt>QT_NO_THREAD</tt>:</p>
<pre> configure.exe -D QT_NO_THREAD</pre>
<p>The <tt>-D</tt> option only creates a Qt internal define. If you get linker errors you have to define <tt>QT_NO_THREAD</tt> also for your project. You can do this by adding <tt>DEFINES</tt> += <tt>QT_NO_THREAD</tt> to your <tt>.pro</tt> file.</p>
<p>See also <a href="qt-performance.html">Qt Performance Tuning</a>.</p>
<a name="managing-large-numbers-of-features"></a>
<h3>Managing Large Numbers of Features</h3>
<p>If you want to disable a lot of features, it is more comfortable to use the <tt>qconfig</tt> tool. You can disable a <i>set</i> of features by creating a custom configuration file that defines the preferred subset of Qt's functionality. Such a file uses macros to disable the unwanted features, and can be created manually or by using the <tt>qconfig</tt> tool located in the <tt>tools/qconfig</tt> directory of the Qt source distribution.</p>
<p><b>Note:</b> The <tt>qconfig</tt> tool is intended to be built against Qt on desktop platforms.</p>
<p><b>Windows CE:</b> The Qt for Windows CE package contains a <tt>qconfig</tt> executable that you can run on a Windows desktop to configure the build.</p>
<p align="center"><img src="images/qt-embedded-qconfigtool.png" /></p><p>The <tt>qconfig</tt> tool's interface displays all of Qt's functionality, and allows the user to both disable and enable features. The user can open and edit any custom configuration file located in the <tt>src/corelib/global</tt> directory. When creating a custom configuration file manually, a description of the currently available Qt features can be found in the <tt>src/corelib/global/qfeatures.txt</tt> file.</p>
<p>Note that some features depend on others; disabling any feature will automatically disable all features depending on it. The feature dependencies can be explored using the <tt>qconfig</tt> tool, but they are also described in the <tt>src/corelib/global/qfeatures.h</tt> file.</p>
<p>To be able to apply the custom configuration, it must be saved in a file called <tt>qconfig-myfile.h</tt> in the <tt>src/corelib/global</tt> directory. Then use the <tt>configure</tt> tool's <tt>-qconfig</tt> option and pass the configuration's file name without the <tt>qconfig-</tt> prefix and <tt>.h</tt> extension, as argument. The following examples show how this is invoked on each of the embedded platforms for a file called <tt>qconfig-myfile.h</tt>:</p>
<p><b>Embedded Linux:</b></p>
<pre> ./configure -qconfig myfile</pre>
<p><b>Windows CE:</b></p>
<pre> configure.exe -qconfig myfile</pre>
<p>Qt provides several ready-made custom configuration files, defining minimal, small, medium and large installations, respectively. These files are located in the <tt>/src/corelib/global</tt> directory in the Qt source distribution.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="40%" align="left">Copyright &copy; 2009 Nokia Corporation and/or its subsidiary(-ies)</td>
<td width="20%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td width="40%" align="right"><div align="right">Qt 4.6.0</div></td>
</tr></table></div></address></body>
</html>
